<ion-header class="ion-no-border">
	<ion-toolbar class="">
    <ion-title class="text-lg sm:text-xl">Profil Saya</ion-title>
		<ion-buttons slot="start">
			<ion-menu-button menu="side-menu">
				<ion-icon class="icon" src="../../assets/icons/svg/menu.svg"></ion-icon>
			</ion-menu-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ion-refresher slot="fixed" (ionRefresh)="pullRefresh($event)">
		<ion-refresher-content></ion-refresher-content>
	</ion-refresher>

	<ng-container *ngIf="!user; else showProfile">
		<profile-fields-loader></profile-fields-loader>
	</ng-container>
	<ng-template #showProfile>
		<ion-avatar class="mx-auto" *ngIf="user">
			<img [src]="user.imgUrl" />
		</ion-avatar>
		<form [formGroup]="updateProfileForm" (ngSubmit)="onSubmit()" class="mt-2">
			<ion-grid fixed>
        <ion-row>
          <profile-fields [form]="updateProfileForm" [errorMessages]="errorMessages"></profile-fields>
          <ion-col class="text-center" size="12">
            <ion-button type="submit" shape="round" class="normal-case">Simpan</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
		</form>
	</ng-template>
</ion-content>
